<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>동양미래대학교 홍보 키오스크</title>
    
    <!-- 폰트: Noto Sans KR -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <!-- 스타일 라이브러리: Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 아이콘 라이브러리: Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            user-select: none;
            -webkit-user-select: none;
            overflow: hidden;
            background-color: #000; /* 영상 배경 검정 */
        }

        /* DMU 시그니처 컬러 */
        .text-dmu {
            color: #004098;
        }
        .bg-dmu {
            background-color: #004098;
        }

        /* 재생 버튼 펄스 애니메이션 */
        @keyframes pulse-ring {
            0% { transform: scale(0.8); opacity: 0.5; }
            100% { transform: scale(1.3); opacity: 0; }
        }
        
        .pulse-ring::before {
            content: '';
            position: absolute;
            left: 0; top: 0;
            width: 100%; height: 100%;
            background-color: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            z-index: -1;
            animation: pulse-ring 2s infinite;
        }

        /* 페이드 효과 트랜지션 */
        .fade-transition {
            transition: opacity 0.5s ease-in-out, visibility 0.5s;
        }

        .hidden-opacity {
            opacity: 0;
            visibility: hidden;
            pointer-events: none; /* 클릭 통과 */
        }
        
        .visible-opacity {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }
    </style>
</head>
<body oncontextmenu="return false;" class="h-screen w-screen relative bg-black">

    <!-- 1. 비디오 컨테이너 (항상 배경에 존재) -->
    <div class="absolute inset-0 w-full h-full overflow-hidden">
        <!-- video.mp4가 배경으로 꽉 차게 설정 -->
        <video id="main-video" class="w-full h-full object-cover" playsinline preload="auto">
            <source src="video.mp4" type="video/mp4">
            <!-- 비디오 로드 실패 시 메시지 -->
            <div class="flex items-center justify-center h-full text-white">
                <p>video.mp4 파일을 찾을 수 없습니다.</p>
            </div>
        </video>
        <!-- 비디오 위에 씌우는 검은색 그라데이션 (텍스트 가독성용) -->
        <div id="video-overlay-gradient" class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40 fade-transition visible-opacity"></div>
    </div>

    <!-- 2. 대기 화면 (터치 전 보여줄 UI 레이어) -->
    <div id="intro-layer" class="absolute inset-0 z-20 flex flex-col justify-between p-12 fade-transition visible-opacity cursor-pointer" onclick="startExperience()">
        
        <!-- 상단: 학교 로고 및 슬로건 -->
        <header class="flex items-center gap-4 animate-fade-in-down">
            <!-- 로고 심볼 -->
            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg">
                <span class="text-dmu font-black text-2xl">D</span>
            </div>
            <div class="text-white drop-shadow-md">
                <h1 class="text-4xl font-black tracking-tight">동양미래대학교</h1>
                <p class="text-lg opacity-90 font-light tracking-widest">Dongyang Mirae University</p>
            </div>
        </header>

        <!-- 중앙: 재생 유도 버튼 (화면 정중앙) -->
        <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
            <div class="relative group">
                <!-- 재생 아이콘 원형 버튼 -->
                <div class="w-32 h-32 bg-white/20 backdrop-blur-sm border-2 border-white/50 rounded-full flex items-center justify-center pulse-ring shadow-2xl group-hover:bg-white/30 transition-all duration-300">
                    <i data-lucide="play" class="w-12 h-12 text-white fill-white ml-2"></i>
                </div>
            </div>
            <h2 class="text-white text-2xl mt-8 font-light tracking-wider drop-shadow-lg animate-bounce">
                화면을 터치하여 시작하세요
            </h2>
        </div>

        <!-- 하단: 정보 텍스트 -->
        <footer class="text-white/60 text-center text-sm">
            <p>Touch the screen to play video</p>
        </footer>
    </div>

    <!-- 3. 재생 중 컨트롤 (닫기 버튼 등, 필요시 표시) -->
    <!-- 영상 재생 중 화면을 터치하면 홈으로 돌아가는 버튼이 잠깐 나오게 할 수도 있음 -->
    <div id="controls-layer" class="absolute top-8 right-8 z-30 fade-transition hidden-opacity">
        <button onclick="resetToHome()" class="bg-black/50 backdrop-blur-md border border-white/20 text-white px-6 py-3 rounded-full flex items-center gap-2 hover:bg-black/70 transition-all">
            <i data-lucide="home" class="w-5 h-5"></i>
            <span>처음으로</span>
        </button>
    </div>

    <script>
        // 아이콘 초기화
        lucide.createIcons();

        // 요소 참조
        const videoElement = document.getElementById('main-video');
        const introLayer = document.getElementById('intro-layer');
        const gradientLayer = document.getElementById('video-overlay-gradient');
        const controlsLayer = document.getElementById('controls-layer');

        // 설정
        let idleTimer = null;
        const IDLE_TIMEOUT = 30000; // 30초 유휴 시 리셋

        // 1. 서비스 시작 (영상 재생)
        function startExperience() {
            // UI 숨기기
            introLayer.classList.remove('visible-opacity');
            introLayer.classList.add('hidden-opacity');
            
            gradientLayer.classList.remove('visible-opacity');
            gradientLayer.classList.add('hidden-opacity');

            // 홈 버튼 보이기
            controlsLayer.classList.remove('hidden-opacity');
            controlsLayer.classList.add('visible-opacity');

            // 영상 재생
            videoElement.muted = false; // 소리 켜기
            videoElement.currentTime = 0;
            videoElement.play().catch(e => {
                console.error("재생 오류:", e);
                // 자동 재생 정책 등으로 막힐 경우 대비
                alert("재생을 시작할 수 없습니다. 화면을 다시 터치해주세요.");
            });

            startIdleTimer();
        }

        // 2. 홈으로 리셋 (영상 종료 또는 버튼 클릭)
        function resetToHome() {
            // 영상 정지 및 초기화
            videoElement.pause();
            videoElement.currentTime = 0; // 영상 맨 앞으로 (미리보기 화면 역할)

            // UI 다시 보이기
            introLayer.classList.remove('hidden-opacity');
            introLayer.classList.add('visible-opacity');
            
            gradientLayer.classList.remove('hidden-opacity');
            gradientLayer.classList.add('visible-opacity');

            // 홈 버튼 숨기기
            controlsLayer.classList.remove('visible-opacity');
            controlsLayer.classList.add('hidden-opacity');

            stopIdleTimer();
        }

        // 이벤트: 영상이 끝나면 자동으로 홈으로
        videoElement.addEventListener('ended', () => {
            resetToHome();
        });

        // 유휴 타이머 로직 (재생 중에만 작동)
        function startIdleTimer() {
            stopIdleTimer(); // 기존 타이머 제거
            // 화면 터치 시 타이머 연장
            document.body.addEventListener('touchstart', resetTimer);
            document.body.addEventListener('click', resetTimer);
            
            resetTimer(); // 시작 시 한번 호출
        }

        function stopIdleTimer() {
            if (idleTimer) clearTimeout(idleTimer);
            document.body.removeEventListener('touchstart', resetTimer);
            document.body.removeEventListener('click', resetTimer);
        }

        function resetTimer() {
            if (introLayer.classList.contains('visible-opacity')) return; // 홈 화면이면 타이머 무시

            if (idleTimer) clearTimeout(idleTimer);
            idleTimer = setTimeout(() => {
                console.log("유휴 시간 초과 -> 홈으로 복귀");
                resetToHome();
            }, IDLE_TIMEOUT);
        }

        // 초기화: 비디오 메타데이터 로드 시 첫 장면 보여주기
        videoElement.addEventListener('loadeddata', () => {
            // 첫 프레임이 보이도록 살짝 재생 후 멈춤 (브라우저 정책에 따라 다를 수 있음)
            // videoElement.currentTime = 0; 
        });

    </script>
</body>
</html>
